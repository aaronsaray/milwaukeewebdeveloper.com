<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Milwaukee Web Developer on Github</title>
    <meta name="description" content="Get redirected to a random Github developer from Milwaukee!">
    <meta property="og:title" content="Random Milwaukee Web Developer on Github">
    <meta property="og:description" content="Get redirected to a random Github developer from Milwaukee!">
    <meta property="og:site_name" content="MilwaukeeWebDeveloper">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <style>
        html,
        body {
            height: 100vh;
            padding: 0;
            margin: 0;
        }

        body {
            display: flex;
            background: #202124;
            color: #b1b9c2;
            font-family: sans-serif;
            justify-content: center;
            align-items: center;
        }

        main {
            text-align: center;
            padding-bottom: 10vh;
        }

        h1 {
            font-weight: 100;
        }

        svg {
            width: 100px;
            height: 100px;
            display: inline-block;
        }
    </style>
</head>

<body>
    <main>
        <h1>Redirecting to random Milwaukee Web Developer on Github</h1>
        <!-- By Sam Herbert (@sherb), for everyone. More @ http://goo.gl/7AJzbL -->
        <svg width="120" height="30" viewBox="0 0 120 30" xmlns="http://www.w3.org/2000/svg" fill="#fff">
            <circle cx="15" cy="15" r="15">
                <animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear"
                    repeatCount="indefinite" />
                <animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1"
                    calcMode="linear" repeatCount="indefinite" />
            </circle>
            <circle cx="60" cy="15" r="9" fill-opacity="0.3">
                <animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear"
                    repeatCount="indefinite" />
                <animate attributeName="fill-opacity" from="0.5" to="0.5" begin="0s" dur="0.8s" values=".5;1;.5"
                    calcMode="linear" repeatCount="indefinite" />
            </circle>
            <circle cx="105" cy="15" r="15">
                <animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear"
                    repeatCount="indefinite" />
                <animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1"
                    calcMode="linear" repeatCount="indefinite" />
            </circle>
        </svg>
    </main>
    <script>
        // github only allows up to 1000 results to return so we're attempting to expand that
        // by limiting to 1 per page, random 1-1000 page number with option of 4 sorts and 2 orders
        const githubUrl = new URL('https://api.github.com/search/users');
        githubUrl.searchParams.append('per_page', '1');
        githubUrl.searchParams.append('page', Math.floor(Math.random() * 1000)) + 1;
        githubUrl.searchParams.append('q', 'repos:>0 location:milwaukee type:user');
        githubUrl.searchParams.append('order', Math.random() < 0.5 ? 'asc' : 'desc');
        const sortOption = Math.floor(Math.random() * 4) + 1;
        if (sortOption > 1) {
            sortOption === 2 && (githubUrl.searchParams.append('sort', 'joined'));
            sortOption === 3 && (githubUrl.searchParams.append('sort', 'followers'));
            sortOption === 4 && (githubUrl.searchParams.append('sort', 'repositories'));
        }

        fetch(githubUrl).then(response => response.json()).then(data => window.location.href = data.items[0].html_url);
    </script>
</body>

</html>